<div class="container">
	<div class="panel left-panel">
		<mat-form-field class="username-input">
			<mat-label>Username</mat-label>
			<input disabled="{{isConnected()  | async}}" matInput [(ngModel)]="username">
		</mat-form-field>
		<mat-form-field class="username-input">
			<mat-label>Channel</mat-label>
			<input disabled="{{isConnected() | async}}" matInput [(ngModel)]="channel">
		</mat-form-field>
		<button mat-raised-button color="primary" *ngIf="isDisconnected() | async"
			(click)="joinChannel()">Join</button>
		<button mat-raised-button color="warn" *ngIf="isConnected() | async"
			(click)="leaveChannel()">Leave</button>
		<mat-divider></mat-divider>
		<app-user (click)="pmUser(user.username)" [username]="username" [user]="user" class="user-list"
			*ngFor="let user of users"></app-user>
	</div>
	<div class="panel right-panel" #scrollMe>
		<div class="messages">
			<app-message [class.message-theirs]="message.from !== username"
				[class.message-mine]="message.from==username" [message]="message"
				*ngFor="let message of messages"></app-message>
		</div>
		<div class="footer">
			<textarea [(ngModel)]="message" (keyup.enter)="sendMessage()"></textarea>
			<button (click)="sendMessage()"><i class="material-icons">send</i></button>
		</div>
	</div>
</div>